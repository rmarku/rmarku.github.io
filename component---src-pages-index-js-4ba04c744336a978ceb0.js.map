{"version":3,"sources":["webpack:///./src/pages/index.js"],"names":["data","intl","useIntl","locale","defaultLocale","moment","slugs","node","nodes","sl","lang","slug","className","blogStyles","blog","key","to","dateTime"],"mappings":"oTA4EA,UAlEiB,WACb,IAAMA,EAAI,EAAV,KAqBMC,EAAOC,oBACLC,EAA0BF,EAvBf,OAuBHG,EAAkBH,EAvBf,cAwBnBI,WAxBmB,GA4BnB,IAAMC,EAAQ,IAAd,IACA,EAAqBN,SAArB,uJAAYO,EAAZ,OACID,MAAUC,SAAVD,MAGJ,IAAME,EAAN,GAjCmB,+GAkCRC,EAlCQ,EAmCPF,GACJP,EAAA,mBAAuB,gCAAqBU,EAArB,uBAA0CC,GAAeD,IAAzD,MACvBV,EAAA,mBAAuB,gCAAqBU,EAArB,uBAA0CC,GAAeD,IAAzD,MArCZ,KAuCf,GACIF,WANR,4DAAwB,CAAC,IAAD,yBASxB,OACI,qBACI,oBAAMI,UAAWC,IAAWC,MACxB,sBADJ,QAEKN,EAAA,KAAU,YACP,OACI,uBAASO,IAAKR,SAAYI,MACtB,oBAAMK,GAAIT,SAAYI,MAClB,sBAAKJ,cADT,OAEI,oBAAMU,SAAUZ,SAAYE,cAAZF,4BACZA,SAAYE,cAAZF,aAHR,iBAIY,iBAJZ,MAMI,qBAAIE,cARhB,sB","file":"component---src-pages-index-js-4ba04c744336a978ceb0.js","sourcesContent":["import React from 'react'\nimport { Link, graphql, useStaticQuery } from 'gatsby'\nimport { useIntl } from \"gatsby-plugin-intl\"\nimport moment from \"moment\"\nimport 'moment/locale/es'\n\n\nimport Layout from '../components/layout'\nimport blogStyles from './index.module.scss'\n\nconst BlogPage = () => {\n    const data = useStaticQuery(graphql`\n    query {\n        allMdx (filter: {fields: {type: {eq: \"blog\"}}},\n        sort: { fields: [frontmatter___date], order: DESC }){\n            edges{\n                node {\n                    frontmatter {\n                        title\n                        date\n                        description\n                    }\n                    fields {\n                        slug\n                        type\n                        lang\n                    }\n                }\n            }\n        }\n    }\n    `)\n    const intl = useIntl();\n    const { locale, defaultLocale } = intl;\n    moment.locale(locale)\n\n    // Filtro por lenguaje\n\n    const slugs = new Set();\n    for (const {node} of data.allMdx.edges)\n        slugs.add(node.fields.slug);\n\n\n    const nodes = [];\n    for (const sl of slugs) {\n        const { node } =\n            data.allMdx.edges.find(({ node: { fields: { lang, slug } } }) => slug === sl && lang === locale) ||\n            data.allMdx.edges.find(({ node: { fields: { lang, slug } } }) => slug === sl && lang === defaultLocale);\n\n        if (node)\n            nodes.push(node);\n    }\n\n    return (\n        <Layout>\n            <main className={blogStyles.blog}>\n                <h1>Blog</h1>\n                {nodes.map((node) => {\n                    return (\n                        <article key={node.fields.slug}>\n                            <Link to={node.fields.slug}>\n                                <h2>{node.frontmatter.title}</h2>\n                                <time dateTime={moment.unix(node.frontmatter.date).format('YYYY-MM-DD')}>{\n                                    moment.unix(node.frontmatter.date).format('MMMM D, YYYY')\n                                }</time><br />\n\n                                <p>{node.frontmatter.description}</p>\n                            </Link>\n                        </article>\n                    )\n                })}\n            </main>\n        </Layout>\n    )\n}\n\nexport default BlogPage"],"sourceRoot":""}